(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{686:function(t,e,n){t.exports=n.p+"img/c4642c3.png"},822:function(t,e,n){"use strict";n.r(e);var o=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column is-hidden-touch"},[e("div",{staticClass:"wrap-image wrap-image--token"},[e("img",{staticClass:"wrap-image__images",attrs:{src:n(686),alt:""}})])])}],r=(n(27),n(0)),c=n(10),l=n(71),v=n(8),d=n(49),_={data:function(){return{approveSize:!1,isApproved:!1,infoBox:"Preparing transactions..."}},computed:Object(c.a)({},Object(l.d)("distribution",["list","totalTokens"]),Object(l.d)("token",["tokenBalance","allowance"]),Object(l.d)("metamask",["ethBalance"]),Object(l.d)("txHashKeeper",["approveTx"]),Object(l.c)("token",["toDecimals","getTokenSymbol"]),Object(l.c)("txHashKeeper",["txExplorerUrl","txHashToRender","txStatusClass"]),Object(l.c)("metamask",["networkConfig"]),Object(l.c)("distribution",["hasEnoughApprovedTokens"]),{isNotEnoughTokens:function(){var t=new d(this.tokenBalance),e=new d(this.totalTokens);return t.isLessThan(e)},approveButtonText:function(){return this.hasEnoughApprovedTokens?"Proceed":"Approve"},isLoading:function(){switch(this.approveTx.status){case v.default.waitingForReciept:return!0;case v.default.success:return!this.isApproved}return!1}}),beforeCreate:function(){0===this.$store.state.distribution.list.length&&this.$store.dispatch("router/goToIndex")},mounted:function(){this.approveSize=this.tokenBalance,this.$nuxt.$loading.finish()},methods:Object(c.a)({},Object(l.b)("token",["sendApprove"]),Object(l.b)("router",["goToTheNextPage"]),{approveButtonAction:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.hasEnoughApprovedTokens){t.next=6;break}return t.next=3,this.sendApprove(this.approveSize);case 3:this.isApproved=t.sent,t.next=7;break;case 6:this.goToTheNextPage();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()})},k=n(22),component=Object(k.a)(_,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"columns"},[n("div",{staticClass:"column is-half-desktop"},[n("div",{staticClass:"token-info"},[n("div",{staticClass:"token-info__item"},[n("div",{staticClass:"token-info__name"},[t._v("\n          Your current multisender approval\n        ")]),t._v(" "),n("div",{staticClass:"token-info__value"},[t._v("\n          "+t._s(t.toDecimals(t.allowance))+"\n        ")])]),t._v(" "),n("div",{staticClass:"token-info__item"},[n("div",{staticClass:"token-info__name"},[t._v("\n          Total number of tokens to send\n        ")]),t._v(" "),n("div",{staticClass:"token-info__value"},[t._v(t._s(t.toDecimals(t.totalTokens))+" "+t._s(t.getTokenSymbol))])]),t._v(" "),n("div",{staticClass:"token-info__item"},[n("div",{staticClass:"token-info__name"},[t._v("\n          Your token balance\n        ")]),t._v(" "),n("div",{staticClass:"token-info__value"},[t._v(t._s(t.toDecimals(t.tokenBalance))+" "+t._s(t.getTokenSymbol))])]),t._v(" "),n("div",{staticClass:"token-info__item"},[n("div",{staticClass:"token-info__name"},[t._v("Your "+t._s(t.networkConfig.currencyName)+" balance")]),t._v(" "),n("div",{staticClass:"token-info__value"},[t._v("\n          "+t._s(t.toDecimals(t.ethBalance,18))+"\n        ")])])]),t._v(" "),n("div",{attrs:{hidden:t.isNotEnoughTokens}},[n("div",{staticClass:"token-field"},[n("div",{staticClass:"label"},[t._v("Amount to approve")]),t._v(" "),n("div",{staticClass:"field"},[n("b-radio",{attrs:{size:"is-medium","native-value":t.totalTokens},model:{value:t.approveSize,callback:function(e){t.approveSize=e},expression:"approveSize"}},[t._v("\n            Exact amount to be sent ( "+t._s(t.toDecimals(t.totalTokens))+" "+t._s(t.getTokenSymbol)+" )\n          ")])],1),t._v(" "),n("div",{staticClass:"field"},[n("b-radio",{attrs:{size:"is-medium","native-value":t.tokenBalance},model:{value:t.approveSize,callback:function(e){t.approveSize=e},expression:"approveSize"}},[t._v("\n            Your full token balance ( "+t._s(t.toDecimals(t.tokenBalance))+" "+t._s(t.getTokenSymbol)+" )\n          ")])],1)]),t._v(" "),t.approveTx.txHash?n("div",{staticClass:"token-field"},[n("div",{staticClass:"label"},[t._v("Approve transaction hash")]),t._v(" "),n("div",{staticClass:"txs"},[n("div",{staticClass:"txs__item",class:t.txStatusClass(t.approveTx.status)},[n("div",{staticClass:"txs__status"}),t._v(" "),n("a",{staticClass:"txs__address",attrs:{href:t.txExplorerUrl("approveTx"),target:"_blank"}},[t._v("\n              "+t._s(t.txHashToRender("approveTx"))+"\n            ")])])])]):t._e(),t._v(" "),n("div",{staticClass:"field"},[n("b-button",{staticClass:"is-next",attrs:{id:"approve-and-proceed-button",loading:t.isLoading,type:"is-primary","icon-right":"arrow-right",rounded:""},on:{click:t.approveButtonAction}},[t._v("\n          "+t._s(t.approveButtonText)+"\n        ")])],1)]),t._v(" "),n("br"),t._v(" "),n("b-message",{attrs:{type:"is-success",active:2===t.approveTx.status&&t.isLoading},on:{"update:active":function(e){return t.$set(t.approveTx,"status === 2 && isLoading",e)}}},[t._v("\n      "+t._s(t.infoBox)+"\n    ")]),t._v(" "),n("b-message",{attrs:{type:"is-danger",active:t.isNotEnoughTokens},on:{"update:active":function(e){t.isNotEnoughTokens=e}}},[t._v("\n      Not enough tokens. Please, top-up your token balance or use smaller batch\n    ")])],1),t._v(" "),t._m(0)])},o,!1,null,null,null);e.default=component.exports}}]);
//# sourceMappingURL=c37a0f54d89359719e34.js.map